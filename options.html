<!DOCTYPE html>
<html>
<head>
    <title>AI Rewriter Settings</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root {
            --background-color: #fafbfc;
            --text-color: #1f2937;
            --text-secondary: #6b7280;
            --primary-color: #3b82f6;
            --primary-hover-color: #2563eb;
            --primary-light: #eff6ff;
            --input-border-color: #e5e7eb;
            --input-focus-border-color: #3b82f6;
            --input-background-color: #ffffff;
            --success-color: #10b981;
            --error-color: #ef4444;
            --warning-color: #f59e0b;
            --link-color: #3b82f6;
            --card-background: #ffffff;
            --card-border: #f3f4f6;
            --card-shadow: 0 1px 3px rgba(0,0,0,0.05), 0 1px 2px rgba(0,0,0,0.02);
            --hover-shadow: 0 4px 15px rgba(0,0,0,0.08);
            --font-family: -apple-system, BlinkMacSystemFont, "Inter", "Segoe UI", Roboto, sans-serif;
            --radius-sm: 6px;
            --radius-md: 8px;
            --radius-lg: 12px;
        }

        [data-theme="dark"] {
            --background-color: #111827;
            --text-color: #f9fafb;
            --text-secondary: #9ca3af;
            --primary-color: #60a5fa;
            --primary-hover-color: #3b82f6;
            --primary-light: #1e3a8a;
            --input-border-color: #374151;
            --input-focus-border-color: #60a5fa;
            --input-background-color: #1f2937;
            --card-background: #1f2937;
            --card-border: #374151;
            --card-shadow: 0 1px 3px rgba(0,0,0,0.2), 0 1px 2px rgba(0,0,0,0.1);
            --hover-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        body {
            font-family: var(--font-family);
            background-color: var(--background-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            font-size: 14px;
            line-height: 1.5;
            transition: all 0.2s ease;
        }

        .container {
            background-color: var(--card-background);
            border: 1px solid var(--card-border);
            border-radius: var(--radius-lg);
            box-shadow: var(--card-shadow);
            max-width: 600px; 
            width: 70vw;
            margin: 24px auto;
            overflow: hidden;
            transition: box-shadow 0.2s ease;
        }

        .container:hover {
            box-shadow: var(--hover-shadow);
        }

        .header {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-hover-color) 100%);
            color: white;
            padding: 32px 40px;
            text-align: center;
            position: relative;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="20" cy="20" r="1" fill="white" opacity="0.05"/><circle cx="80" cy="40" r="1" fill="white" opacity="0.05"/><circle cx="40" cy="80" r="1" fill="white" opacity="0.05"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
        }

        .header h1 {
            margin: 0 0 8px 0;
            font-weight: 700;
            font-size: 28px;
            letter-spacing: -0.5px;
            position: relative;
            z-index: 1;
        }

        .header .subtitle {
            margin: 0;
            font-size: 14px;
            opacity: 0.9;
            font-weight: 500;
            position: relative;
            z-index: 1;
        }

        .main-content {
            padding: 40px;
        }

        .tabs {
            display: flex;
            margin-bottom: 32px;
            background-color: var(--primary-light);
            border-radius: var(--radius-md);
            padding: 4px;
            gap: 2px;
        }

        .tab {
            padding: 12px 20px;
            cursor: pointer;
            border: none;
            background: none;
            color: var(--text-secondary);
            font-size: 13px;
            font-weight: 500;
            transition: all 0.2s ease;
            border-radius: var(--radius-sm);
            flex: 1;
            text-align: center;
            white-space: nowrap;
        }

        .tab.active {
            background-color: white;
            color: var(--primary-color);
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        [data-theme="dark"] .tab.active {
            background-color: var(--input-background-color);
            color: var(--primary-color);
        }

        .tab:hover:not(.active) {
            color: var(--text-color);
            background-color: rgba(255,255,255,0.7);
        }

        [data-theme="dark"] .tab:hover:not(.active) {
            background-color: rgba(255,255,255,0.1);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .form-group {
            margin-bottom: 24px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr auto;
            gap: 24px;
            align-items: end;
            max-width: 800px;
        }

        .custom-form-row {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            align-items: stretch;
            max-width: 600px;
        }

        .form-row .form-group {
            margin-bottom: 0;
        }

        .form-row button {
            height: 48px;
            align-self: end;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 13px;
            color: var(--text-color);
            letter-spacing: 0.25px;
        }

        input, select, textarea {
            width: 100%;
            padding: 12px 16px;
            box-sizing: border-box;
            border: 1.5px solid var(--input-border-color);
            border-radius: var(--radius-md);
            font-size: 14px;
            background-color: var(--input-background-color);
            color: var(--text-color);
            transition: all 0.2s ease;
            font-family: inherit;
            height: 48px;
        }

        input:focus, select:focus, textarea:focus {
            border-color: var(--input-focus-border-color);
            outline: 0;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
            transform: translateY(-1px);
        }

        input:hover, select:hover, textarea:hover {
            border-color: var(--text-secondary);
        }

        textarea {
            min-height: 120px;
            height: auto;
            resize: vertical;
            line-height: 1.5;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding: 20px 24px;
            background-color: var(--primary-light);
            border-radius: var(--radius-lg);
            border: 1px solid var(--card-border);
            transition: all 0.2s ease;
            cursor: pointer;
            position: relative;
        }

        .checkbox-group:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        [data-theme="dark"] .checkbox-group {
            background-color: rgba(59, 130, 246, 0.05);
        }

        .checkbox-group input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-right: 16px;
            accent-color: var(--primary-color);
            cursor: pointer;
            border-radius: 4px;
            appearance: none;
            border: 2px solid var(--input-border-color);
            background-color: var(--input-background-color);
            position: relative;
            transition: all 0.2s ease;
        }

        .checkbox-group input[type="checkbox"]:checked {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }

        .checkbox-group input[type="checkbox"]:checked::after {
            content: '✓';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 12px;
            font-weight: bold;
        }

        .checkbox-group input[type="checkbox"]:hover {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);
        }

        .checkbox-group label {
            margin-bottom: 0;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            flex: 1;
            user-select: none;
        }

        button {
            padding: 12px 24px;
            cursor: pointer;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--radius-md);
            font-size: 14px;
            font-weight: 600;
            font-family: inherit;
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            white-space: nowrap;
        }

        button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        button:hover::before {
            left: 100%;
        }

        button:hover {
            background-color: var(--primary-hover-color);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }

        button:active {
            transform: translateY(0);
        }

        button:disabled {
            background-color: var(--text-secondary);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        button.secondary {
            background-color: var(--card-background);
            color: var(--text-color);
            border: 1.5px solid var(--input-border-color);
        }

        button.secondary:hover {
            background-color: var(--input-border-color);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        button.danger {
            background-color: var(--error-color);
        }

        button.danger:hover {
            background-color: #dc2626;
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
        }

        button.small {
            padding: 8px 16px;
            font-size: 13px;
            height: 40px;
        }

        .button-group {
            display: flex;
            gap: 12px;
            margin-top: 32px;
            flex-wrap: wrap;
        }

        #status {
            margin-top: 24px;
            font-weight: 500;
            text-align: center;
            min-height: 1.2em;
            transition: all 0.3s ease;
            padding: 12px;
            border-radius: var(--radius-md);
            font-size: 14px;
        }

        #status.success {
            color: var(--success-color);
            background-color: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.2);
        }

        #status.error {
            color: var(--error-color);
            background-color: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.2);
        }

        #status.warning {
            color: var(--warning-color);
            background-color: rgba(245, 158, 11, 0.1);
            border: 1px solid rgba(245, 158, 11, 0.2);
        }

        .help-text {
            margin-top: 8px;
            font-size: 12px;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        .help-text a {
            color: var(--link-color);
            text-decoration: none;
            font-weight: 500;
        }

        .help-text a:hover {
            text-decoration: underline;
        }

        .custom-mode-item {
            background: linear-gradient(135deg, var(--primary-light) 0%, rgba(59, 130, 246, 0.05) 100%);
            padding: 20px;
            border-radius: var(--radius-lg);
            margin-bottom: 16px;
            border: 1px solid var(--card-border);
            transition: all 0.2s ease;
        }

        .custom-mode-item:hover {
            transform: translateY(-2px);
            box-shadow: var(--hover-shadow);
        }

        .custom-mode-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .custom-mode-name {
            font-weight: 600;
            color: var(--primary-color);
            font-size: 16px;
        }

        .custom-mode-actions {
            display: flex;
            gap: 8px;
        }

        .custom-mode-prompt {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.4;
            background-color: var(--input-background-color);
            padding: 12px;
            border-radius: var(--radius-md);
            border: 1px solid var(--input-border-color);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 24px;
        }

        .stat-card {
            background: linear-gradient(135deg, var(--primary-light) 0%, rgba(59, 130, 246, 0.05) 100%);
            padding: 20px;
            border-radius: var(--radius-lg);
            margin-bottom: 16px;
            border: 1px solid var(--card-border);
            transition: all 0.2s ease;
            text-align: center;
            margin-bottom: 0;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--hover-shadow);
        }

        .stat-number {
            font-size: 32px;
            font-weight: 800;
            color: var(--primary-color);
            margin-bottom: 8px;
            letter-spacing: -1px;
        }

        .stat-card div:last-child {
            font-size: 12px;
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .mode-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 16px;
            margin-top: 20px;
        }

        .mode-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0;
            padding: 20px 24px;
            background: linear-gradient(135deg, var(--primary-light) 0%, rgba(59, 130, 246, 0.05) 100%);
            border-radius: var(--radius-lg);
            border: 1px solid var(--card-border);
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .mode-item:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .mode-checkbox {
            display: flex;
            align-items: center;
            flex: 1;
        }

        .mode-checkbox input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-right: 16px;
            appearance: none;
            border: 2px solid var(--input-border-color);
            border-radius: 4px;
            background-color: var(--input-background-color);
            position: relative;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .mode-checkbox input[type="checkbox"]:checked {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }

        .mode-checkbox input[type="checkbox"]:checked::after {
            content: '✓';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 12px;
            font-weight: bold;
        }

        .mode-checkbox input[type="checkbox"]:hover {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);
        }

        .mode-label {
            font-weight: 600;
            font-size: 14px;
            color: var(--text-color);
            cursor: pointer;
            user-select: none;
            flex: 1;
        }

        .mode-description {
            font-size: 12px;
            color: var(--text-secondary);
            margin-top: 4px;
            line-height: 1.3;
        }

        .theme-toggle {
            position: fixed;
            top: 24px;
            right: 24px;
            background: var(--card-background);
            border: 1.5px solid var(--input-border-color);
            color: var(--text-color);
            padding: 12px;
            border-radius: 50%;
            cursor: pointer;
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            transition: all 0.2s ease;
            box-shadow: var(--card-shadow);
            z-index: 1000;
        }

        .theme-toggle:hover {
            transform: scale(1.05);
            box-shadow: var(--hover-shadow);
        }

        .footer {
            margin-top: 48px;
            padding: 32px 40px;
            background: linear-gradient(135deg, var(--primary-light) 0%, rgba(59, 130, 246, 0.08) 100%);
            border-top: 2px solid var(--primary-color);
            position: relative;
            overflow: hidden;
        }

        .footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="footerPattern" width="50" height="50" patternUnits="userSpaceOnUse"><circle cx="10" cy="10" r="0.5" fill="currentColor" opacity="0.1"/><circle cx="40" cy="25" r="0.5" fill="currentColor" opacity="0.1"/><circle cx="25" cy="40" r="0.5" fill="currentColor" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23footerPattern)"/></svg>');
            pointer-events: none;
        }

        .footer-content {
            position: relative;
            z-index: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 16px;
        }

        .footer-brand {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 16px;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 8px;
        }

        .footer-brand .logo {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-hover-color) 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
            box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);
        }

        .footer-description {
            font-size: 13px;
            color: var(--text-secondary);
            text-align: center;
            max-width: 400px;
            line-height: 1.5;
            margin-bottom: 12px;
        }

        .footer-links {
            display: flex;
            gap: 24px;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
        }

        .footer-link {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 12px;
            font-weight: 500;
            padding: 6px 12px;
            border-radius: var(--radius-sm);
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .footer-link:hover {
            color: var(--primary-color);
            background-color: rgba(59, 130, 246, 0.1);
            transform: translateY(-1px);
        }

        .footer-divider {
            width: 100%;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--card-border), transparent);
            margin: 8px 0;
        }

        .footer-copyright {
            font-size: 11px;
            color: var(--text-secondary);
            text-align: center;
            opacity: 0.8;
        }

        .footer-hearts {
            color: #ef4444;
            animation: heartbeat 2s ease-in-out infinite;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        [data-theme="dark"] .footer {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, rgba(59, 130, 246, 0.02) 100%);
        }

        .section-title {
            font-size: 16px;
            font-weight: 700;
            color: var(--text-color);
            margin-bottom: 20px;
            padding-bottom: 8px;
            border-bottom: 2px solid var(--primary-color);
            display: inline-block;
        }

        .help-section {
            background: linear-gradient(135deg, var(--primary-light) 0%, rgba(59, 130, 246, 0.03) 100%);
            border-radius: var(--radius-lg);
            padding: 24px;
            margin-bottom: 24px;
            border: 1px solid var(--card-border);
        }

        .help-section h3 {
            margin: 0 0 16px 0;
            color: var(--primary-color);
            font-size: 16px;
            font-weight: 700;
        }

        .help-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            margin-top: 20px;
        }

        .shortcut-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            background-color: var(--input-background-color);
            border-radius: var(--radius-md);
            border: 1px solid var(--input-border-color);
            margin-bottom: 8px;
        }

        .shortcut-key {
            background-color: var(--text-color);
            color: var(--input-background-color);
            padding: 4px 8px;
            border-radius: 4px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 12px;
            font-weight: bold;
        }

        .model-info {
            background-color: var(--input-background-color);
            border: 1px solid var(--input-border-color);
            border-radius: var(--radius-md);
            padding: 16px;
            margin-bottom: 12px;
        }

        .model-name {
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 4px;
        }

        .model-desc {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        .feature-list {
            list-style: none;
            padding: 0;
            margin: 12px 0;
        }

        .feature-list li {
            padding: 6px 0;
            padding-left: 20px;
            position: relative;
            font-size: 14px;
            line-height: 1.4;
        }

        .feature-list li::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: var(--success-color);
            font-weight: bold;
        }

        .tip-box {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(16, 185, 129, 0.05) 100%);
            border: 1px solid rgba(16, 185, 129, 0.2);
            border-radius: var(--radius-md);
            padding: 16px;
            margin: 16px 0;
        }

        .tip-box .tip-icon {
            color: var(--success-color);
            font-weight: bold;
            margin-right: 8px;
        }

        @media (max-width: 768px) {
            .container {
                margin: 16px;
                width: calc(100vw - 32px);
                border-radius: var(--radius-md);
            }
            
            .header {
                padding: 24px 20px;
            }
            
            .main-content, .footer {
                padding: 24px 20px;
            }
            
            .form-row, .custom-form-row {
                grid-template-columns: 1fr;
                gap: 16px;
            }
            
            .form-row button, .custom-form-row button {
                height: 48px;
                align-self: stretch;
            }
            
            .help-grid {
                grid-template-columns: 1fr;
            }
            
            .tabs {
                flex-wrap: wrap;
                gap: 4px;
            }
            
            .tab {
                flex: none;
                min-width: 100px;
                font-size: 12px;
                padding: 10px 16px;
            }
            
            .theme-toggle {
                top: 16px;
                right: 16px;
                width: 40px;
                height: 40px;
                font-size: 16px;
            }
        }

        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 12px;
            }
            
            .mode-list {
                grid-template-columns: 1fr;
            }
            
            .button-group {
                flex-direction: column;
            }
            
            .button-group button {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <button class="theme-toggle" id="themeToggle">🌙</button>
    
    <div class="container">
        <div class="header">
            <h1>🤖 AI Text Rewriter</h1>
            <div class="subtitle">Powered by Google Gemini AI</div>
        </div>

        <div class="main-content">
            <div class="tabs">
                <button class="tab active" data-tab="general">⚙️ General</button>
                <button class="tab" data-tab="modes">🎭 Modes</button>
                <button class="tab" data-tab="custom">🎨 Custom</button>
                <button class="tab" data-tab="stats">📊 Stats</button>
                <button class="tab" data-tab="help">❓ Help</button>
                <button class="tab" data-tab="advanced">🔧 Advanced</button>
            </div>

            <!-- General Settings Tab -->
            <div id="general" class="tab-content active">
                <div class="section-title">API Configuration</div>
                <div class="form-group">
                    <label for="apiKey">🔑 Gemini API Key *</label>
                    <input type="password" id="apiKey" name="apiKey" placeholder="Paste your Google AI Studio API Key here">
                    <div class="help-text">
                        Get your API key from <a href="https://aistudio.google.com/app/apikey" target="_blank" rel="noopener noreferrer">Google AI Studio</a>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="selectedModel">🧠 AI Model</label>
                        <select id="selectedModel">
                            <option value="gemini-2.5-flash">Gemini 2.5 Flash (Recommended)</option>
                            <option value="gemini-2.5-flash-lite-preview">Gemini 2.5 Flash Lite</option>
                            <option value="gemini-2.0-flash">Gemini 2.0 Flash</option>
                            <option value="gemini-2.0-flash-lite">Gemini 2.0 Flash Lite</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="maxTextLength">📏 Max Text Length</label>
                        <input type="number" id="maxTextLength" min="100" max="50000" step="100" value="8000">
                    </div>
                </div>

                <div class="section-title" style="margin-top: 32px;">Preferences</div>
                <div class="checkbox-group">
                    <input type="checkbox" id="enableUndo" checked>
                    <label for="enableUndo">↶ Enable Undo Functionality</label>
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="enableUsageTracking" checked>
                    <label for="enableUsageTracking">📊 Track Usage Statistics</label>
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="enableKeyboardShortcuts">
                    <label for="enableKeyboardShortcuts">⌨️ Enable Keyboard Shortcuts</label>
                </div>

                <div class="button-group">
                    <button id="saveGeneral">💾 Save Settings</button>
                    <button id="testConnection" class="secondary">🧪 Test API Key</button>
                </div>
            </div>

            <!-- Modes Tab -->
            <div id="modes" class="tab-content">
                <div class="section-title">Available Rewrite Modes</div>
                <p style="color: var(--text-secondary); margin-bottom: 24px;">Select which rewrite modes to show in the context menu:</p>
                
                <!-- Built-in Modes -->
                <div class="mode-list">
                    <div class="mode-item">
                        <div class="mode-checkbox">
                            <input type="checkbox" id="mode-humanize" checked>
                            <div>
                                <div class="mode-label">🧑 Humanize (Make Natural)</div>
                                <div class="mode-description">Make text sound more natural and conversational</div>
                            </div>
                        </div>
                    </div>

                    <div class="mode-item">
                        <div class="mode-checkbox">
                            <input type="checkbox" id="mode-grammar" checked>
                            <div>
                                <div class="mode-label">✏️ Fix Grammar & Spelling</div>
                                <div class="mode-description">Correct grammatical errors and typos</div>
                            </div>
                        </div>
                    </div>

                    <div class="mode-item">
                        <div class="mode-checkbox">
                            <input type="checkbox" id="mode-professional" checked>
                            <div>
                                <div class="mode-label">💼 Professional Tone</div>
                                <div class="mode-description">Formal business communication style</div>
                            </div>
                        </div>
                    </div>

                    <div class="mode-item">
                        <div class="mode-checkbox">
                            <input type="checkbox" id="mode-polite" checked>
                            <div>
                                <div class="mode-label">🙏 Polite & Courteous</div>
                                <div class="mode-description">Soften language with respectful phrasing</div>
                            </div>
                        </div>
                    </div>

                    <div class="mode-item">
                        <div class="mode-checkbox">
                            <input type="checkbox" id="mode-casual" checked>
                            <div>
                                <div class="mode-label">😊 Casual & Friendly</div>
                                <div class="mode-description">Informal, conversational style</div>
                            </div>
                        </div>
                    </div>

                    <div class="mode-item">
                        <div class="mode-checkbox">
                            <input type="checkbox" id="mode-confident" checked>
                            <div>
                                <div class="mode-label">💪 Confident & Assertive</div>
                                <div class="mode-description">Strong, decisive language</div>
                            </div>
                        </div>
                    </div>

                    <div class="mode-item">
                        <div class="mode-checkbox">
                            <input type="checkbox" id="mode-empathetic" checked>
                            <div>
                                <div class="mode-label">❤️ Empathetic & Understanding</div>
                                <div class="mode-description">Caring and emotionally aware tone</div>
                            </div>
                        </div>
                    </div>

                    <div class="mode-item">
                        <div class="mode-checkbox">
                            <input type="checkbox" id="mode-persuasive" checked>
                            <div>
                                <div class="mode-label">� Persuasive & Compelling</div>
                                <div class="mode-description">Convincing and motivating language</div>
                            </div>
                        </div>
                    </div>

                    <div class="mode-item">
                        <div class="mode-checkbox">
                            <input type="checkbox" id="mode-concise" checked>
                            <div>
                                <div class="mode-label">⚡ Concise & Clear</div>
                                <div class="mode-description">Remove fluff, get to the point</div>
                            </div>
                        </div>
                    </div>

                    <div class="mode-item">
                        <div class="mode-checkbox">
                            <input type="checkbox" id="mode-detailed" checked>
                            <div>
                                <div class="mode-label">📚 Detailed & Comprehensive</div>
                                <div class="mode-description">Add depth and explanations</div>
                            </div>
                        </div>
                    </div>

                    <div class="mode-item">
                        <div class="mode-checkbox">
                            <input type="checkbox" id="mode-creative" checked>
                            <div>
                                <div class="mode-label">🎨 Creative & Engaging</div>
                                <div class="mode-description">Vivid, imaginative language</div>
                            </div>
                        </div>
                    </div>

                    <div class="mode-item">
                        <div class="mode-checkbox">
                            <input type="checkbox" id="mode-technical" checked>
                            <div>
                                <div class="mode-label">⚙️ Technical & Precise</div>
                                <div class="mode-description">Accurate technical terminology</div>
                            </div>
                        </div>
                    </div>

                    <div class="mode-item">
                        <div class="mode-checkbox">
                            <input type="checkbox" id="mode-academic" checked>
                            <div>
                                <div class="mode-label">🎓 Academic & Scholarly</div>
                                <div class="mode-description">Formal academic writing style</div>
                            </div>
                        </div>
                    </div>

                    <div class="mode-item">
                        <div class="mode-checkbox">
                            <input type="checkbox" id="mode-marketing" checked>
                            <div>
                                <div class="mode-label">� Marketing & Sales</div>
                                <div class="mode-description">Promotional and engaging copy</div>
                            </div>
                        </div>
                    </div>

                    <div class="mode-item">
                        <div class="mode-checkbox">
                            <input type="checkbox" id="mode-cheeky" checked>
                            <div>
                                <div class="mode-label">😏 Cheeky & Playful</div>
                                <div class="mode-description">Witty and slightly sarcastic</div>
                            </div>
                        </div>
                    </div>

                    <div class="mode-item">
                        <div class="mode-checkbox">
                            <input type="checkbox" id="mode-newby" checked>
                            <div>
                                <div class="mode-label">🌱 Beginner-Friendly</div>
                                <div class="mode-description">Simple language for newcomers</div>
                            </div>
                        </div>
                    </div>

                    <div class="mode-item">
                        <div class="mode-checkbox">
                            <input type="checkbox" id="mode-composer" checked>
                            <div>
                                <div class="mode-label">✨ Compose from Instruction</div>
                                <div class="mode-description">Generate new content from prompts</div>
                            </div>
                        </div>
                    </div>

                    <div class="mode-item">
                        <div class="mode-checkbox">
                            <input type="checkbox" id="mode-translate" checked>
                            <div>
                                <div class="mode-label">🌍 Translate to English</div>
                                <div class="mode-description">Translate text from other languages to English</div>
                            </div>
                        </div>
                    </div>

                    <div class="mode-item">
                        <div class="mode-checkbox">
                            <input type="checkbox" id="mode-summarize" checked>
                            <div>
                                <div class="mode-label">📋 Summarize Key Points</div>
                                <div class="mode-description">Extract and condense main ideas</div>
                            </div>
                        </div>
                    </div>

                    <div class="mode-item">
                        <div class="mode-checkbox">
                            <input type="checkbox" id="mode-expand" checked>
                            <div>
                                <div class="mode-label">📝 Expand & Elaborate</div>
                                <div class="mode-description">Add more detail and explanation</div>
                            </div>
                        </div>
                    </div>

                    <div class="mode-item">
                        <div class="mode-checkbox">
                            <input type="checkbox" id="mode-simplify" checked>
                            <div>
                                <div class="mode-label">🔤 Simplify & Clarify</div>
                                <div class="mode-description">Make text easier to understand</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="button-group">
                    <button id="saveModes">💾 Save Mode Settings</button>
                    <button id="resetModes" class="secondary">↻ Reset to Default</button>
                    <button id="selectAllModes" class="secondary">☑️ Select All</button>
                    <button id="deselectAllModes" class="secondary">☐ Deselect All</button>
                </div>
            </div>

            <!-- Custom Modes Tab -->
            <div id="custom" class="tab-content">
                <div class="section-title">Custom Rewrite Modes</div>
                <p style="color: var(--text-secondary); margin-bottom: 24px;">Create your own custom rewrite modes with specific instructions:</p>
                
                <div class="custom-form-row">
                    <div class="form-group">
                        <label for="customModeName">Mode Name</label>
                        <input type="text" id="customModeName" placeholder="e.g., Formal Academic">
                    </div>
                    <div class="form-group">
                        <label for="customModePrompt">Prompt Instructions</label>
                        <textarea id="customModePrompt" placeholder="Describe how the text should be rewritten..." style="min-height: 80px;"></textarea>
                    </div>
                    <button id="addCustomMode">➕ Add Mode</button>
                </div>

                <div class="tip-box">
                    <span class="tip-icon">💡</span>
                    <strong>Pro Tip:</strong> Be specific in your instructions. Include tone, style, audience, and any special requirements.
                </div>

                <div class="help-text" style="margin-bottom: 24px;">
                    <strong>Example prompts:</strong><br>
                    • "Rewrite this text in an academic style with proper citations and formal language."<br>
                    • "Convert this to a casual, friendly social media post with emojis."<br>
                    • "Transform this into a professional business email with corporate tone."
                </div>

                <!-- Custom Modes List -->
                <div id="customModesList">
                    <!-- Example custom mode -->
                    <div class="custom-mode-item" style="display: none;">
                        <div class="custom-mode-header">
                            <div class="custom-mode-name">Example Custom Mode</div>
                            <div class="custom-mode-actions">
                                <button class="small secondary">✏️ Edit</button>
                                <button class="small danger">🗑️ Delete</button>
                            </div>
                        </div>
                        <div class="custom-mode-prompt">
                            Example prompt instructions will appear here...
                        </div>
                    </div>
                </div>

                <div class="help-text" style="margin-top: 24px; text-align: center; color: var(--text-secondary);" id="noCustomModes">
                    No custom modes created yet. Add one above to get started!
                </div>
            </div>

            <!-- Stats Tab -->
            <div id="stats" class="tab-content">
                <div class="section-title">Usage Analytics</div>
                <div id="statsContent">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number" id="totalRewrites">0</div>
                            <div>Total Rewrites</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="totalChars">0</div>
                            <div>Characters Processed</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="favoriteMode">-</div>
                            <div>Most Used Mode</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="lastUsed">-</div>
                            <div>Last Used</div>
                        </div>
                    </div>
                </div>
                <div class="button-group">
                    <button id="refreshStats" class="secondary">🔄 Refresh</button>
                    <button id="clearStats" class="danger">🗑️ Clear Stats</button>
                </div>
            </div>

            <!-- Advanced Tab -->
            <div id="advanced" class="tab-content">
                <div class="section-title">Advanced Settings</div>
                
                <div class="form-group">
                    <label>🌙 Appearance</label>
                    <div class="checkbox-group">
                        <input type="checkbox" id="darkMode">
                        <label for="darkMode">Dark Mode</label>
                    </div>
                </div>

                <div class="section-title" style="margin-top: 32px;">Data Management</div>
                <div class="button-group">
                    <button id="exportSettings" class="secondary">📤 Export Settings</button>
                    <button id="importSettings" class="secondary">📥 Import Settings</button>
                    <button id="resetAllSettings" class="danger">🔄 Reset All Settings</button>
                </div>
                <input type="file" id="importFile" accept=".json" style="display: none;">
            </div>

            <!-- Help Tab -->
            <div id="help" class="tab-content">
                <div class="section-title">Help & Documentation</div>
                
                <div class="help-section">
                    <h3>🚀 Getting Started</h3>
                    <ol style="margin: 12px 0; padding-left: 20px;">
                        <li>Get your API key from <a href="https://aistudio.google.com/app/apikey" target="_blank">Google AI Studio</a></li>
                        <li>Paste it in the General settings tab</li>
                        <li>Select your preferred AI model</li>
                        <li>Right-click on any text to access rewrite options</li>
                    </ol>
                </div>

                <div class="help-section">
                    <h3>⌨️ Keyboard Shortcuts</h3>
                    <div class="shortcut-item">
                        <span>Humanize Mode</span>
                        <span class="shortcut-key">Ctrl+Shift+H</span>
                    </div>
                    <div class="shortcut-item">
                        <span>Professional Mode</span>
                        <span class="shortcut-key">Ctrl+Shift+P</span>
                    </div>
                    <div class="shortcut-item">
                        <span>Fix Grammar</span>
                        <span class="shortcut-key">Ctrl+Shift+G</span>
                    </div>
                    <div class="shortcut-item">
                        <span>Undo Last Rewrite</span>
                        <span class="shortcut-key">Ctrl+Shift+Z</span>
                    </div>
                </div>

                <div class="help-grid">
                    <div class="help-section">
                        <h3>🧠 AI Models Explained</h3>
                        
                        <div class="model-info">
                            <div class="model-name">Gemini 2.5 Flash (Recommended)</div>
                            <div class="model-desc">Perfect balance of speed, quality, and cost. Best for most use cases with excellent understanding of context and nuanced rewriting.</div>
                        </div>

                        <div class="model-info">
                            <div class="model-name">Gemini 2.5 Flash Lite</div>
                            <div class="model-desc">Cost-efficient option with good quality. Ideal for simple rewrites and high-volume usage where budget is a concern.</div>
                        </div>

                        <div class="model-info">
                            <div class="model-name">Gemini 2.0 Flash</div>
                            <div class="model-desc">Fast and modern with excellent performance. Great for quick rewrites with maintained quality and speed.</div>
                        </div>

                        <div class="model-info">
                            <div class="model-name">Gemini 2.0 Flash Lite</div>
                            <div class="model-desc">Ultra-fast processing for basic text transformations. Best for simple rewrites where speed is priority.</div>
                        </div>
                    </div>

                    <div class="help-section">
                        <h3>🎭 Built-in Modes</h3>
                        <ul class="feature-list">
                            <li><strong>Humanize:</strong> Make text sound more natural and conversational</li>
                            <li><strong>Fix Grammar:</strong> Correct grammatical errors and typos</li>
                            <li><strong>Professional:</strong> Formal business communication style</li>
                            <li><strong>Polite:</strong> Soften language with respectful phrasing</li>
                            <li><strong>Casual:</strong> Informal, conversational style</li>
                            <li><strong>Confident:</strong> Strong, decisive language</li>
                            <li><strong>Empathetic:</strong> Caring and emotionally aware tone</li>
                            <li><strong>Persuasive:</strong> Convincing and motivating language</li>
                            <li><strong>Concise:</strong> Remove fluff, get to the point</li>
                            <li><strong>Detailed:</strong> Add depth and explanations</li>
                            <li><strong>Creative:</strong> Vivid, imaginative language</li>
                            <li><strong>Technical:</strong> Accurate technical terminology</li>
                            <li><strong>Academic:</strong> Formal academic writing style</li>
                            <li><strong>Marketing:</strong> Promotional and engaging copy</li>
                            <li><strong>Cheeky:</strong> Witty and slightly sarcastic</li>
                            <li><strong>Beginner-Friendly:</strong> Simple language for newcomers</li>
                            <li><strong>Compose:</strong> Generate new content from prompts</li>
                            <li><strong>Translate:</strong> Translate text from other languages to English</li>
                            <li><strong>Summarize:</strong> Extract and condense main ideas</li>
                            <li><strong>Expand:</strong> Add more detail and explanation</li>
                            <li><strong>Simplify:</strong> Make text easier to understand</li>
                        </ul>
                    </div>
                </div>

                <div class="help-section">
                    <h3>⚡ Pro Tips</h3>
                    <ul class="feature-list">
                        <li>Use specific custom prompts for better results</li>
                        <li>Enable undo functionality to experiment safely</li>
                        <li>Adjust max text length based on your needs</li>
                        <li>Monitor usage statistics to optimize your workflow</li>
                        <li>Create custom modes for frequently used styles</li>
                        <li>Use keyboard shortcuts for faster workflow</li>
                    </ul>
                </div>

                <div class="help-section">
                    <h3>🔧 Troubleshooting</h3>
                    <div style="margin: 12px 0;">
                        <p><strong>API Key Issues:</strong></p>
                        <ul style="margin: 8px 0; padding-left: 20px;">
                            <li>Ensure your API key is valid and active</li>
                            <li>Check your Google AI Studio quota limits</li>
                            <li>Verify the key has proper permissions</li>
                        </ul>
                        
                        <p><strong>Extension Not Working:</strong></p>
                        <ul style="margin: 8px 0; padding-left: 20px;">
                            <li>Refresh the page after changing settings</li>
                            <li>Check if the extension is enabled</li>
                            <li>Try disabling and re-enabling the extension</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div id="status"></div>
        </div>

    <div class="footer">
        <div class="footer-content">
            <div class="footer-brand">
                <div class="logo">🤖</div>
                <span>AI Text Rewriter</span>
            </div>
            
            <div class="footer-description">
                Transform your writing with the power of Google Gemini AI. Professional, fast, and intelligent text rewriting at your fingertips.
            </div>
            
            <div class="footer-links">
                <a href="https://github.com/SupratimRK/Ai-rewrite" target="_blank" class="footer-link">
                    <span>📂</span> Source Code
                </a>
                <a href="https://github.com/SupratimRK/Ai-rewrite/blob/main/README.md" target="_blank" class="footer-link">
                    <span>📚</span> Documentation
                </a>
                <a href="https://github.com/SupratimRK/Ai-rewrite/issues" target="_blank" class="footer-link">
                    <span>🐛</span> Report Issues
                </a>
                <a href="https://supratim.netlify.app" target="_blank" class="footer-link">
                    <span>🌐</span> Portfolio
                </a>
                <a href="mailto:supratimrk@outlook.com" class="footer-link">
                    <span>📧</span> Contact
                </a>
            </div>
            
            <div class="footer-divider"></div>
            
            <div class="footer-copyright">
                Made with <span class="footer-hearts">💙</span> by <strong>Supratim</strong> • Version 2.0 • © 2025
            </div>
        </div>
    </div>

    <script src="options.js"></script>
</body>
</html>